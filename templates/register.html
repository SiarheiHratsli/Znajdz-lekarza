<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rejestracja - Znajdź lekarza</title>
    <link href="../static/styles.css" rel="stylesheet">
    <script>
        function showStep(step) {
            const steps = document.querySelectorAll('.step');
            steps.forEach((s, index) => {
                s.style.display = index === step ? 'block' : 'none';
            });
        }

        function nextStep(currentStep) {
            if (validateStep(currentStep)) {
                showStep(currentStep + 1);
            }
        }

        function validateStep(step) {
            const inputs = document.querySelectorAll(`.step[data-step="${step}"] input`);
            for (const input of inputs) {
                if (!input.checkValidity()) {
                    alert(`Pole "${input.name}" jest wymagane.`);
                    return false;
                }
            }
            return true;
        }

        document.addEventListener('DOMContentLoaded', () => showStep(0));
    </script>
</head>
<body>
<header>
    <h1>Znajdź lekarza - Rejestracja</h1>
</header>
<main>
    <form action="/register" method="POST">
        <!-- Krok 1 -->
        <div class="step" data-step="0">
            <label for="email">Adres e-mail:</label>
            <input type="email" id="email" name="email" required>
            <label for="password">Hasło:</label>
            <input type="password" id="password" name="password" required>
            <label for="password_confirmation">Potwierdź hasło:</label>
            <input type="password" id="password_confirmation" name="password_confirmation" required>
            <button type="button" onclick="nextStep(0)">Dalej</button>
        </div>

        <!-- Krok 2 -->
        <div class="step" data-step="1" style="display: none;">
            <label for="first_name">Imię:</label>
            <input type="text" id="first_name" name="first_name" required>
            <label for="last_name">Nazwisko:</label>
            <input type="text" id="last_name" name="last_name" required>
            <label for="gender">Płeć:</label>
            <select id="gender" name="gender" required>
                <option value="">Wybierz...</option>
                <option value="M">Mężczyzna</option>
                <option value="F">Kobieta</option>
                <option value="Other">Inna</option>
            </select>
            <button type="button" onclick="nextStep(1)">Dalej</button>
        </div>

        <!-- Krok 3 -->
        <div class="step" data-step="2" style="display: none;">
            <label for="birth_date">Data urodzenia:</label>
            <input type="date" id="birth_date" name="birth_date" required>
            <button type="submit">Zarejestruj się</button>
        </div>
    </form>
</main>
</body>
</html>